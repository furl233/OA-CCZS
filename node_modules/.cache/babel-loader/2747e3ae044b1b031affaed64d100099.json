{"remainingRequest":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","mtime":1606466070165},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKCkgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHRoaXMuJHYuJHRvdWNoKCk7CgogIGlmICh0aGlzLnVzZXJuYW1lRXJyb3JzLmxlbmd0aCA9PSAwICYmIHRoaXMucGFzc3dvcmRFcnJvcnMubGVuZ3RoID09IDApIHsKICAgIHRoaXMuaXNsb2FkID0gdHJ1ZTsKICAgIGNvbnNvbGUubG9nKHRoaXMuaXNsb2FkKTsKICAgIHRoaXMuJGh0dHAucG9zdCgnaHR0cDovLzE5Mi4xNjguNTAuMTMyOjMwMDAvdXNlcnMvbG9naW4nLCB7CiAgICAgICJ1c2VybmFtZSI6IHRoaXMudXNlcm5hbWUsCiAgICAgICJwYXNzd29yZCI6IHRoaXMucGFzc3dvcmQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIF90aGlzLnNuYWNrY29sb3IgPSAnZ3JlZW4nOwogICAgICBfdGhpcy50ZXh0ID0gJ+eZu+mZhuaIkOWKnyzmraPlnKjliqDovb3nlKjmiLfpobXpnaInOwogICAgICBfdGhpcy5pc2xvYWQgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEudXNlcik7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnRva2VuKTsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImN1cnJlbnR0b2tlbiIsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9zdXByZW1ldXNlcicKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIF90aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgICAgX3RoaXMuc25hY2tjb2xvciA9ICdyZWQnOwogICAgICBjb25zb2xlLmxvZyhlcnIuc3RhdHVzKTsKCiAgICAgIGlmIChlcnIuc3RhdHVzID09IDQyMikgewogICAgICAgIF90aGlzLnRleHQgPSAn5rKh5pyJ6L+e5o6l5LiK5pyN5Yqh5ZmoJzsKICAgICAgfQoKICAgICAgaWYgKGVyci5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgX3RoaXMudGV4dCA9ICfnlKjmiLflkI3miJbogIXlr4bnoIHkuI3mraPnoa4nOwogICAgICB9CgogICAgICBpZiAoZXJyLnN0YXR1cyA9PSA0MDgpIHsKICAgICAgICBfdGhpcy50ZXh0ID0gJ+i/nuaOpei2heaXtizlj6/lsJ3or5Xlho3mrKHnmbvlvZUnOwogICAgICB9CgogICAgICBfdGhpcy51c2VybmFtZSA9ICcnOwogICAgICBfdGhpcy5wYXNzd29yZCA9ICcnOwogICAgICBfdGhpcy5pc2xvYWQgPSBmYWxzZTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgIHRoaXMuc25hY2tjb2xvciA9ICdyZWQnOwogICAgdGhpcy50ZXh0ID0gJ+WQjeWtl+WSjOWvhueggeS4jeiDveS4uuepuic7CiAgfQp9"},{"version":3,"sources":["D:/项目/new-app/src/pages/login/method/signin.js"],"names":["login","$v","$touch","usernameErrors","length","passwordErrors","isload","console","log","$http","post","username","password","then","res","snackbar","snackcolor","text","data","user","token","window","sessionStorage","setItem","$router","push","path","catch","err","status"],"mappings":"AAAA,OAAO,SAASA,KAAT,GAAgB;AAAA;;AACf,OAAKC,EAAL,CAAQC,MAAR;;AACA,MAAI,KAAKC,cAAN,CAAsBC,MAAtB,IAAgC,CAAhC,IAAuC,KAAKC,cAAN,CAAsBD,MAAtB,IAAgC,CAAzE,EAA2E;AACvE,SAAKE,MAAL,GAAc,IAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,MAAjB;AACA,SAAKG,KAAL,CAAWC,IAAX,CAAgB,wCAAhB,EAAyD;AACrD,kBAAW,KAAKC,QADqC;AAErD,kBAAW,KAAKC;AAFqC,KAAzD,EAGGC,IAHH,CAGQ,UAAAC,GAAG,EAAG;AACZ,MAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,OAAlB;AACA,MAAA,KAAI,CAACC,IAAL,GAAY,eAAZ;AACA,MAAA,KAAI,CAACX,MAAL,GAAc,KAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACI,IAAJ,CAASC,IAArB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACI,IAAJ,CAASE,KAArB;AACAC,MAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,EAA6CT,GAAG,CAACI,IAAJ,CAASE,KAAtD;;AACA,MAAA,KAAI,CAACI,OAAL,CAAaC,IAAb,CAAkB;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAlB;AACD,KAZD,EAaCC,KAbD,CAaO,UAAAC,GAAG,EAAI;AACZ,MAAA,KAAI,CAACb,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,KAAlB;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,MAAhB;;AACA,UAAGD,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACZ,IAAL,GAAY,UAAZ;AACD;;AACD,UAAGW,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACZ,IAAL,GAAY,YAAZ;AACD;;AACD,UAAGW,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACZ,IAAL,GAAY,cAAZ;AACD;;AACD,MAAA,KAAI,CAACN,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACC,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACN,MAAL,GAAc,KAAd;AACD,KA7BD;AA8BD,GAjCH,MAiCO;AAAC,SAAKS,QAAL,GAAgB,IAAhB;AACJ,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,IAAL,GAAY,WAAZ;AAAwB;AACnC","sourcesContent":["export function login(){\r\n        this.$v.$touch();\r\n        if((this.usernameErrors).length == 0  && (this.passwordErrors).length == 0){\r\n            this.isload = true\r\n            console.log(this.isload)\r\n            this.$http.post('http://192.168.50.132:3000/users/login',{\r\n                \"username\":this.username,\r\n                \"password\":this.password,\r\n            }).then(res=> {\r\n              this.snackbar = true\r\n              this.snackcolor = 'green'\r\n              this.text = '登陆成功,正在加载用户页面'\r\n              this.isload = false\r\n              console.log(res.data.user);\r\n              console.log(res.data.token);\r\n              window.sessionStorage.setItem(\"currenttoken\",res.data.token);\r\n              this.$router.push({path:'/supremeuser'})\r\n            })\r\n            .catch(err => {\r\n              this.snackbar = true\r\n              this.snackcolor = 'red'\r\n              console.log(err.status)\r\n              if(err.status == 422){\r\n                this.text = '没有连接上服务器'\r\n              }\r\n              if(err.status == 401){\r\n                this.text = '用户名或者密码不正确'\r\n              }\r\n              if(err.status == 408){\r\n                this.text = '连接超时,可尝试再次登录'\r\n              }\r\n              this.username = ''\r\n              this.password = ''\r\n              this.isload = false\r\n            })\r\n          }else{this.snackbar = true\r\n            this.snackcolor = 'red'\r\n            this.text = '名字和密码不能为空'}\r\n}\r\n"]}]}