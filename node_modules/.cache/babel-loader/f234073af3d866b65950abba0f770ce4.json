{"remainingRequest":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","mtime":1607316351703},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRDovXHU5ODc5XHU3NkVFL25ldy1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmV4cG9ydCBmdW5jdGlvbiBsb2dpbigpIHsKICB2YXIgX3RoaXMgPSB0aGlzOwoKICB0aGlzLiR2LiR0b3VjaCgpOwoKICBpZiAodGhpcy51c2VybmFtZUVycm9ycy5sZW5ndGggPT0gMCAmJiB0aGlzLnBhc3N3b3JkRXJyb3JzLmxlbmd0aCA9PSAwKSB7CiAgICB0aGlzLmlzbG9hZCA9IHRydWU7CiAgICBjb25zb2xlLmxvZyh0aGlzLmlzbG9hZCk7CiAgICB0aGlzLiRodHRwLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9sb2dpbicsIHsKICAgICAgInVzZXJuYW1lIjogdGhpcy51c2VybmFtZSwKICAgICAgInBhc3N3b3JkIjogdGhpcy5wYXNzd29yZAogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgICAgX3RoaXMuc25hY2tjb2xvciA9ICdncmVlbic7CiAgICAgIF90aGlzLnRleHQgPSAn55m76ZmG5oiQ5YqfLOato+WcqOWKoOi9veeUqOaIt+mhtemdoic7CiAgICAgIF90aGlzLmlzbG9hZCA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZyhfdHlwZW9mKHJlcy5kYXRhLnRva2VuKSk7CiAgICAgIHZhciB0b2tlbiA9IHJlcy5kYXRhLnRva2VuOwogICAgICB2YXIgdXNlciA9IHJlcy5kYXRhLnVzZXI7CgogICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJMT0dJTl9JTiIsIHsKICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgdXNlcjogdXNlcgogICAgICB9KTsKCiAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9hZG1pbmlzdHJhdG9yJwogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgX3RoaXMuc25hY2tiYXIgPSB0cnVlOwogICAgICBfdGhpcy5zbmFja2NvbG9yID0gJ3JlZCc7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CgogICAgICBpZiAoZXJyLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgX3RoaXMudGV4dCA9ICfmsqHmnInov57mjqXkuIrmnI3liqHlmagnOwogICAgICB9CgogICAgICBpZiAoZXJyLnN0YXR1cyA9PSA0MjIpIHsKICAgICAgICBfdGhpcy50ZXh0ID0gJ+ayoeaciei/nuaOpeS4iuacjeWKoeWZqCc7CiAgICAgIH0KCiAgICAgIGlmIChlcnIuc3RhdHVzID09IDQwMSkgewogICAgICAgIF90aGlzLnRleHQgPSAn55So5oi35ZCN5oiW6ICF5a+G56CB5LiN5q2j56GuJzsKICAgICAgfQoKICAgICAgaWYgKGVyci5zdGF0dXMgPT0gNDA4KSB7CiAgICAgICAgX3RoaXMudGV4dCA9ICfov57mjqXotoXml7Ys5Y+v5bCd6K+V5YaN5qyh55m75b2VJzsKICAgICAgfQoKICAgICAgX3RoaXMudGV4dCA9IGVyci5tZXNzYWdlOwogICAgICBfdGhpcy51c2VybmFtZSA9ICcnOwogICAgICBfdGhpcy5wYXNzd29yZCA9ICcnOwogICAgICBfdGhpcy5pc2xvYWQgPSBmYWxzZTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgIHRoaXMuc25hY2tjb2xvciA9ICdyZWQnOwogICAgdGhpcy50ZXh0ID0gJ+WQjeWtl+WSjOWvhueggeS4jeiDveS4uuepuic7CiAgfQp9"},{"version":3,"sources":["D:/项目/new-app/src/pages/login/method/signin.js"],"names":["login","$v","$touch","usernameErrors","length","passwordErrors","isload","console","log","$http","post","username","password","then","res","snackbar","snackcolor","text","data","token","user","$store","commit","$router","push","path","catch","err","status","message"],"mappings":";AAAA,OAAO,SAASA,KAAT,GAAgB;AAAA;;AACf,OAAKC,EAAL,CAAQC,MAAR;;AACA,MAAI,KAAKC,cAAN,CAAsBC,MAAtB,IAAgC,CAAhC,IAAuC,KAAKC,cAAN,CAAsBD,MAAtB,IAAgC,CAAzE,EAA2E;AACvE,SAAKE,MAAL,GAAc,IAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,MAAjB;AACA,SAAKG,KAAL,CAAWC,IAAX,CAAgB,mCAAhB,EAAoD;AAChD,kBAAW,KAAKC,QADgC;AAEhD,kBAAW,KAAKC;AAFgC,KAApD,EAGGC,IAHH,CAGQ,UAAAC,GAAG,EAAG;AACZ,MAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,OAAlB;AACA,MAAA,KAAI,CAACC,IAAL,GAAY,eAAZ;AACA,MAAA,KAAI,CAACX,MAAL,GAAc,KAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,SAAmBM,GAAG,CAACI,IAAJ,CAASC,KAA5B;AACA,UAAIA,KAAK,GAAGL,GAAG,CAACI,IAAJ,CAASC,KAArB;AACA,UAAIC,IAAI,GAAEN,GAAG,CAACI,IAAJ,CAASE,IAAnB;;AACA,MAAA,KAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmB,UAAnB,EAA8B;AAACH,QAAAA,KAAK,EAALA,KAAD;AAAOC,QAAAA,IAAI,EAAJA;AAAP,OAA9B;;AACA,MAAA,KAAI,CAACG,OAAL,CAAaC,IAAb,CAAkB;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAlB;AACD,KAbD,EAcCC,KAdD,CAcO,UAAAC,GAAG,EAAI;AACZ,MAAA,KAAI,CAACZ,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,KAAlB;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ;;AACA,UAAGA,GAAG,CAACC,MAAJ,IAAc,CAAjB,EAAmB;AACjB,QAAA,KAAI,CAACX,IAAL,GAAY,UAAZ;AACD;;AACD,UAAGU,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACX,IAAL,GAAY,UAAZ;AACD;;AACD,UAAGU,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACX,IAAL,GAAY,YAAZ;AACD;;AACD,UAAGU,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACX,IAAL,GAAY,cAAZ;AACD;;AACD,MAAA,KAAI,CAACA,IAAL,GAAYU,GAAG,CAACE,OAAhB;AACA,MAAA,KAAI,CAAClB,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACC,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACN,MAAL,GAAc,KAAd;AACD,KAlCD;AAmCD,GAtCH,MAsCO;AAAC,SAAKS,QAAL,GAAgB,IAAhB;AACJ,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,IAAL,GAAY,WAAZ;AAAwB;AACnC","sourcesContent":["export function login(){\r\n        this.$v.$touch();\r\n        if((this.usernameErrors).length == 0  && (this.passwordErrors).length == 0){\r\n            this.isload = true\r\n            console.log(this.isload)\r\n            this.$http.post('http://localhost:3000/users/login',{\r\n                \"username\":this.username,\r\n                \"password\":this.password,\r\n            }).then(res=> {\r\n              this.snackbar = true\r\n              this.snackcolor = 'green'\r\n              this.text = '登陆成功,正在加载用户页面'\r\n              this.isload = false\r\n              console.log(typeof(res.data.token));  \r\n              let token = res.data.token\r\n              let user= res.data.user\r\n              this.$store.commit(\"LOGIN_IN\",{token,user});\r\n              this.$router.push({path:'/administrator'})\r\n            })\r\n            .catch(err => {\r\n              this.snackbar = true\r\n              this.snackcolor = 'red'\r\n              console.log(err)\r\n              if(err.status == 0){\r\n                this.text = '没有连接上服务器'\r\n              }\r\n              if(err.status == 422){\r\n                this.text = '没有连接上服务器'\r\n              }\r\n              if(err.status == 401){\r\n                this.text = '用户名或者密码不正确'\r\n              }\r\n              if(err.status == 408){\r\n                this.text = '连接超时,可尝试再次登录'\r\n              }\r\n              this.text = err.message\r\n              this.username = ''\r\n              this.password = ''\r\n              this.isload = false\r\n            })\r\n          }else{this.snackbar = true\r\n            this.snackcolor = 'red'\r\n            this.text = '名字和密码不能为空'}\r\n}\r\n"]}]}