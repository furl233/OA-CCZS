{"remainingRequest":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\login\\method\\signin.js","mtime":1608276189942},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOi9cdTk4NzlcdTc2RUUvbmV3LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKCkgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHRoaXMuJHYuJHRvdWNoKCk7CgogIGlmICh0aGlzLnVzZXJuYW1lRXJyb3JzLmxlbmd0aCA9PSAwICYmIHRoaXMucGFzc3dvcmRFcnJvcnMubGVuZ3RoID09IDApIHsKICAgIHRoaXMuaXNsb2FkID0gdHJ1ZTsKICAgIGNvbnNvbGUubG9nKHRoaXMuaXNsb2FkKTsKICAgIHRoaXMuJGh0dHAucG9zdCgnaHR0cDovLzE5Mi4xNjguNTAuMTMyOjMwMDAvdXNlcnMvbG9naW4nLCB7CiAgICAgICJ1c2VybmFtZSI6IHRoaXMudXNlcm5hbWUsCiAgICAgICJwYXNzd29yZCI6IHRoaXMucGFzc3dvcmQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIF90aGlzLnNuYWNrY29sb3IgPSAnZ3JlZW4nOwogICAgICBfdGhpcy50ZXh0ID0gJ+eZu+mZhuaIkOWKnyzmraPlnKjliqDovb3nlKjmiLfpobXpnaInOwogICAgICBfdGhpcy5pc2xvYWQgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coX3R5cGVvZihyZXMuZGF0YS50b2tlbikpOwogICAgICB2YXIgdG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgdmFyIHVzZXIgPSByZXMuZGF0YS51c2VyOwoKICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgiTE9HSU5fSU4iLCB7CiAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgIHVzZXI6IHVzZXIKICAgICAgfSk7CgogICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvYWRtaW5pc3RyYXRvcicKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIF90aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgICAgX3RoaXMuc25hY2tjb2xvciA9ICdyZWQnOwoKICAgICAgaWYgKGVyci5zdGF0dXMgPT0gMCkgewogICAgICAgIF90aGlzLnRleHQgPSAn5rKh5pyJ6L+e5o6l5LiK5pyN5Yqh5ZmoJzsKICAgICAgfQoKICAgICAgaWYgKGVyci5zdGF0dXMgPT0gNDIyKSB7CiAgICAgICAgX3RoaXMudGV4dCA9ICfmsqHmnInov57mjqXkuIrmnI3liqHlmagnOwogICAgICB9CgogICAgICBpZiAoZXJyLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICBfdGhpcy50ZXh0ID0gJ+eUqOaIt+WQjeaIluiAheWvhueggeS4jeato+ehric7CiAgICAgIH0KCiAgICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpKSB7CiAgICAgICAgX3RoaXMudGV4dCA9ICfov57mjqXotoXml7Ys5Y+v5bCd6K+V5YaN5qyh55m75b2VJzsKICAgICAgfQoKICAgICAgX3RoaXMudXNlcm5hbWUgPSAnJzsKICAgICAgX3RoaXMucGFzc3dvcmQgPSAnJzsKICAgICAgX3RoaXMuaXNsb2FkID0gZmFsc2U7CiAgICB9KTsKICB9IGVsc2UgewogICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICB0aGlzLnNuYWNrY29sb3IgPSAncmVkJzsKICAgIHRoaXMudGV4dCA9ICflkI3lrZflkozlr4bnoIHkuI3og73kuLrnqbonOwogIH0KfQ=="},{"version":3,"sources":["D:/项目/new-app/src/pages/login/method/signin.js"],"names":["login","$v","$touch","usernameErrors","length","passwordErrors","isload","console","log","$http","post","username","password","then","res","snackbar","snackcolor","text","data","token","user","$store","commit","$router","push","path","catch","err","status","message","includes"],"mappings":";;;AAAA,OAAO,SAASA,KAAT,GAAgB;AAAA;;AACf,OAAKC,EAAL,CAAQC,MAAR;;AACA,MAAI,KAAKC,cAAN,CAAsBC,MAAtB,IAAgC,CAAhC,IAAuC,KAAKC,cAAN,CAAsBD,MAAtB,IAAgC,CAAzE,EAA2E;AACvE,SAAKE,MAAL,GAAc,IAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,MAAjB;AACA,SAAKG,KAAL,CAAWC,IAAX,CAAgB,wCAAhB,EAAyD;AACrD,kBAAW,KAAKC,QADqC;AAErD,kBAAW,KAAKC;AAFqC,KAAzD,EAGGC,IAHH,CAGQ,UAAAC,GAAG,EAAG;AACZ,MAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,OAAlB;AACA,MAAA,KAAI,CAACC,IAAL,GAAY,eAAZ;AACA,MAAA,KAAI,CAACX,MAAL,GAAc,KAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,SAAmBM,GAAG,CAACI,IAAJ,CAASC,KAA5B;AACA,UAAIA,KAAK,GAAGL,GAAG,CAACI,IAAJ,CAASC,KAArB;AACA,UAAIC,IAAI,GAAEN,GAAG,CAACI,IAAJ,CAASE,IAAnB;;AACA,MAAA,KAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmB,UAAnB,EAA8B;AAACH,QAAAA,KAAK,EAALA,KAAD;AAAOC,QAAAA,IAAI,EAAJA;AAAP,OAA9B;;AACA,MAAA,KAAI,CAACG,OAAL,CAAaC,IAAb,CAAkB;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAlB;AACD,KAbD,EAcCC,KAdD,CAcO,UAAAC,GAAG,EAAI;AACZ,MAAA,KAAI,CAACZ,QAAL,GAAgB,IAAhB;AACA,MAAA,KAAI,CAACC,UAAL,GAAkB,KAAlB;;AACA,UAAGW,GAAG,CAACC,MAAJ,IAAc,CAAjB,EAAmB;AACjB,QAAA,KAAI,CAACX,IAAL,GAAY,UAAZ;AACD;;AACD,UAAGU,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACX,IAAL,GAAY,UAAZ;AACD;;AACD,UAAGU,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACnB,QAAA,KAAI,CAACX,IAAL,GAAY,YAAZ;AACD;;AACD,UAAGU,GAAG,CAACE,OAAJ,CAAYC,QAAZ,CAAqB,SAArB,CAAH,EAAmC;AACjC,QAAA,KAAI,CAACb,IAAL,GAAY,cAAZ;AACD;;AACD,MAAA,KAAI,CAACN,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACC,QAAL,GAAgB,EAAhB;AACA,MAAA,KAAI,CAACN,MAAL,GAAc,KAAd;AACD,KAhCD;AAiCD,GApCH,MAoCO;AAAC,SAAKS,QAAL,GAAgB,IAAhB;AACJ,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,IAAL,GAAY,WAAZ;AAAwB;AACnC","sourcesContent":["export function login(){\r\n        this.$v.$touch();\r\n        if((this.usernameErrors).length == 0  && (this.passwordErrors).length == 0){\r\n            this.isload = true\r\n            console.log(this.isload)\r\n            this.$http.post('http://192.168.50.132:3000/users/login',{\r\n                \"username\":this.username,\r\n                \"password\":this.password,\r\n            }).then(res=> {\r\n              this.snackbar = true\r\n              this.snackcolor = 'green'\r\n              this.text = '登陆成功,正在加载用户页面'\r\n              this.isload = false\r\n              console.log(typeof(res.data.token));  \r\n              let token = res.data.token\r\n              let user= res.data.user\r\n              this.$store.commit(\"LOGIN_IN\",{token,user});\r\n              this.$router.push({path:'/administrator'})\r\n            })\r\n            .catch(err => {\r\n              this.snackbar = true\r\n              this.snackcolor = 'red'\r\n              if(err.status == 0){\r\n                this.text = '没有连接上服务器'\r\n              }\r\n              if(err.status == 422){\r\n                this.text = '没有连接上服务器'\r\n              }\r\n              if(err.status == 401){\r\n                this.text = '用户名或者密码不正确'\r\n              }\r\n              if(err.message.includes('timeout')){\r\n                this.text = '连接超时,可尝试再次登录'\r\n              }\r\n              this.username = ''\r\n              this.password = ''\r\n              this.isload = false\r\n            })\r\n          }else{this.snackbar = true\r\n            this.snackcolor = 'red'\r\n            this.text = '名字和密码不能为空'}\r\n}\r\n"]}]}