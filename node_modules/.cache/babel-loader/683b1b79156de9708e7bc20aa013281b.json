{"remainingRequest":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\new-app\\src\\pages\\login\\components\\Forgot.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\login\\components\\Forgot.vue","mtime":1606548025743},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU5ODc5XHU3NkVFL25ldy1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyB2YWxpZGF0aW9uTWl4aW4gfSBmcm9tICJ2dWVsaWRhdGUiOwppbXBvcnQgeyByZXF1aXJlZCwgZW1haWwgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwp2YXIgVElNRU9VVCA9IDEwOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbdmFsaWRhdGlvbk1peGluXSwKICB2YWxpZGF0aW9uczogewogICAgZW1haWw6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBlbWFpbDogZW1haWwKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZXh0OiAnJywKICAgICAgc25hY2tiYXI6IGZhbHNlLAogICAgICBzbmFja2NvbG9yOiAnZ3JlZW4nLAogICAgICBlbWFpbDogJycsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgdGltZXM6IDAsCiAgICAgIHJlc2VuZEludGVydmFsOiBudWxsLAogICAgICBzZWNvbmRzVG9FbmFibGU6IFRJTUVPVVQsCiAgICAgIHNlY29uZHM6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVtYWlsRXJyb3JzOiBmdW5jdGlvbiBlbWFpbEVycm9ycygpIHsKICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZW1haWwuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5lbWFpbC5lbWFpbCAmJiBlcnJvcnMucHVzaCgn6YKu566x5b+F6aG756ym5ZCI6YKu566x5Zyw5Z2A5qC85byPJyk7CiAgICAgICF0aGlzLiR2LmVtYWlsLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCflv4XpobvovpPlhaXpgq7nrrHkuI3kuI3og73kuLrnqbouJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlc2VuZEludGVydmFsKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2VuZDogZnVuY3Rpb24gcmVzZW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZW1haWxFcnJvcnMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGltZXIoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFRpbWVyOiBmdW5jdGlvbiBzZXRUaW1lcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKICAgICAgdGhpcy50ZXh0ID0gIumCrueuseW3sue7j+WPkemAge+8jOivt+afpeaUtiI7CiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLnRpbWVzKys7CiAgICAgIHRoaXMuc2Vjb25kc1RvRW5hYmxlID0gVElNRU9VVCAqIHRoaXMudGltZXM7CiAgICAgIHRoaXMucmVzZW5kSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMi5zZWNvbmRzVG9FbmFibGUgPT09IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMyLnJlc2VuZEludGVydmFsKTsKICAgICAgICAgIF90aGlzMi5zZWNvbmRzID0gJyc7CiAgICAgICAgICBfdGhpczIuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi5zbmFja2JhciA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuc2Vjb25kcyA9ICIoICIuY29uY2F0KF90aGlzMi5zZWNvbmRzVG9FbmFibGUsICIgKSIpOwogICAgICAgICAgX3RoaXMyLnNlY29uZHNUb0VuYWJsZS0tOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Forgot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,eAAA,QAAA,WAAA;AACA,SAAA,QAAA,EAAA,KAAA,QAAA,0BAAA;AACA,IAAA,OAAA,GAAA,EAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,EAAA,WAAA,EAAA;AACA,IAAA,KAAA,EAAA;AAAA,MAAA,QAAA,EAAA,QAAA;AAAA,MAAA,KAAA,EAAA;AAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA,OAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA,KANA;AAOA,MAAA,KAAA,EAAA,CAPA;AAQA,MAAA,cAAA,EAAA,IARA;AASA,MAAA,eAAA,EAAA,OATA;AAUA,MAAA,OAAA,EAAA;AAVA,KAAA;AAYA,GAlBA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,KAAA,CAAA,KAAA,IAAA,MAAA,CAAA,IAAA,CAAA,cAAA,CAAA;AACA,OAAA,KAAA,EAAA,CAAA,KAAA,CAAA,QAAA,IAAA,MAAA,CAAA,IAAA,CAAA,cAAA,CAAA;AACA,aAAA,MAAA;AACA;AAPA,GAnBA;AA4BA,EAAA,aA5BA,2BA4BA;AACA,IAAA,aAAA,CAAA,KAAA,cAAA,CAAA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,EAAA,CAAA,MAAA;;AACA,oBAAA,KAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AAAA,kBAAA,KAAA,CAAA,QAAA;AAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,QALA,sBAKA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,YAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,KAAA;AACA,WAAA,eAAA,GAAA,OAAA,GAAA,KAAA,KAAA;AAEA,WAAA,cAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,eAAA,KAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA,MAAA,CAAA,cAAA,CAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,SALA,MAKA;AACA,UAAA,MAAA,CAAA,OAAA,eAAA,MAAA,CAAA,eAAA;AACA,UAAA,MAAA,CAAA,eAAA;AACA;AACA,OAVA,EAUA,IAVA,CAAA;AAWA;AAvBA;AA/BA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-layout justify-center  >\n      <v-flex xs12 md6 >\n        <v-card class=\"pa-4\" elevation=\"20\">\n          <h1 block class=\"text-center\">忘记密码?</h1>\n          <div class=\"mb-6 overline text-center\">输入您的帐户电子邮件地址，我们将向您发送一个链接以重置密码</div>\n          <v-text-field label=\"E-mail\" \n          outlined v-model=\"email\"\n          @input=\"$v.email.$touch()\"\n          @blur=\"$v.email.$touch()\"\n          required  :error-messages=\"emailErrors\"\n          ></v-text-field>\n          <v-btn :loading=\"isLoading\" :disabled=\"disabled\" block depressed\n                  x-large color=\"indigo white--text\" @click.stop=\"resend\"\n          >发送邮件{{ seconds }}</v-btn>\n        </v-card>\n        <p block class=\"text-center ma-5\" >\n          <router-link to=\"/signin\" color=\"white\">返回登陆?</router-link>\n        </p>\n        <v-snackbar v-model=\"snackbar\">\n          {{ text }}\n          <template v-slot:action=\"{ attrs }\">\n            <v-btn :color=\"snackcolor\" text v-bind=\"attrs\" @click=\"snackbar = false\">Close</v-btn>\n          </template>\n        </v-snackbar>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { validationMixin } from \"vuelidate\";\nimport { required,email} from \"vuelidate/lib/validators\";\nconst TIMEOUT = 10\nexport default {\n  mixins: [validationMixin],\n  validations: {\n    email: { required, email },\n  },\n  data() {\n    return {\n      text:'',\n      snackbar:false,\n      snackcolor:'green',\n      email:'',\n      isLoading: false,\n      disabled: false,\n      times: 0,\n      resendInterval: null,\n      secondsToEnable: TIMEOUT,\n      seconds: ''\n    }\n  },\n  computed:{\n    emailErrors() {\n    const errors = []\n    if (!this.$v.email.$dirty) return errors \n    !this.$v.email.email && errors.push('邮箱必须符合邮箱地址格式')\n    !this.$v.email.required && errors.push('必须输入邮箱不不能为空.')\n    return errors\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.resendInterval)\n  },\n  methods: {\n    async resend() {\n      this.$v.$touch()\n      if((this.emailErrors).length == 0){this.setTimer()}\n    }, \n    setTimer() {\n      this.snackbar = true\n      this.text = \"邮箱已经发送，请查收\"\n      this.disabled = true\n      this.times++\n      this.secondsToEnable = TIMEOUT * this.times\n\n      this.resendInterval = setInterval(() => {\n        if (this.secondsToEnable === 0) {\n          clearInterval(this.resendInterval)\n          this.seconds = ''\n          this.disabled = false\n          this.snackbar = false\n        } else {\n          this.seconds = `( ${this.secondsToEnable} )`\n          this.secondsToEnable--\n        }\n      }, 1000)\n    }\n  }\n}\n</script>\n\n<style scoped>\n  a {\n    color:white\n}\n</style>\n\n\n"],"sourceRoot":"src/pages/login/components"}]}