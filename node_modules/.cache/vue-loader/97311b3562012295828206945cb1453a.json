{"remainingRequest":"D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\new-app\\src\\pages\\Administrator\\components\\License.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\Administrator\\components\\License.vue","mtime":1609310987491},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU25hcEJhciBmcm9tICdAL2NvbXBvbmVudHMvU25hcEJhci52dWUnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIHByb3BzOntsaWNlbmNlczpBcnJheX0sDQogICAgbmFtZTogJ0xpY2Vuc2UnLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgY2FyZHM6dGhpcy5saWNlbmNlcywNCiAgICAgICAgICAgIHNuYWNrZXI6e3NiYXI6ZmFsc2Usc3RleHQ6IiIsc2NvbG9yOiIifSwNCiAgICAgICAgICAgIC8v5paw5aKe5Zu+5qGG5ZKM5pu05paw5Zu+5qGGDQogICAgICAgICAgICBkaWFsb2c6ZmFsc2UsDQogICAgICAgICAgICB1cGRhdGVkaWFsb2c6ZmFsc2UsDQogICAgICAgICAgICAvL+WKoOi9veadoeWSjOaMiemUruWKoOi9vQ0KICAgICAgICAgICAgZGlhbG9nbG9hZDpmYWxzZSwgICANCiAgICAgICAgICAgIGRpYWxvZ2RlbGV0ZTpmYWxzZSwNCiAgICAgICAgICAgIGxvYWRpbmc6ZmFsc2UsDQogICAgICAgICAgICBuZXdsaWNlbmNlOntuYW1lOiIiLGNlcnRpZmljYXRlX3RpbWU6IiIsIGNlcnRpZmljYXRlX2lkOiIiLGltYWdlX3VybDoiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkX3BlcmlvZDowLGxpY2Vuc2luZ19hZ2VuY3k6IiIsY2F0ZWdvcnk6IiJ9LA0KICAgICAgICAgICAgdXBkYXRlbGljZW5jZTp7bmFtZToiIixjZXJ0aWZpY2F0ZV90aW1lOiIiLCBjZXJ0aWZpY2F0ZV9pZDoiIixpbWFnZV91cmw6IiIsDQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZF9wZXJpb2Q6MCxsaWNlbnNpbmdfYWdlbmN5OiIiLGNhdGVnb3J5OiIiLF9pZDoiIn0sDQogICAgICAgICAgICBpbWc6e30sDQogICAgICAgICAgICAvL+m7mOiupOWbvueJhw0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wb25lbnRzOnsNCiAgICAgICAgU25hcEJhcg0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgICAgIHN3aXRjaF9zbmFwKHNob3csdGV4dCxjb2xvcil7DQogICAgICAgICAgICB0aGlzLnNuYWNrZXIuc2Jhcj1zaG93DQogICAgICAgICAgICB0aGlzLnNuYWNrZXIuc3RleHQ9dGV4dA0KICAgICAgICAgICAgdGhpcy5zbmFja2VyLnNjb2xvcj1jb2xvcg0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBmaW5kX2NhcmRzKGlkKXsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbG9hZCA9IHRydWUNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbGljZW5zZS8ke2lkfT9maWVsZHM9Y2F0ZWdvcnkmcG9wdWxhdGVmaWVsZHNgKQ0KICAgICAgICAgICAgLnRoZW4ocmVzPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi6K+75Y+W5oiQ5YqfIiwiYmx1ZSIpDQogICAgICAgICAgICAgICAgY29uc3R7bmFtZSxjZXJ0aWZpY2F0ZV90aW1lLGNlcnRpZmljYXRlX2lkLGltYWdlX3VybCx2YWxpZF9wZXJpb2QsbGljZW5zaW5nX2FnZW5jeSxjYXRlZ29yeSxfaWR9ID0gIHJlcy5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVsaWNlbmNlID0ge25hbWUsY2VydGlmaWNhdGVfdGltZSxjZXJ0aWZpY2F0ZV9pZCxpbWFnZV91cmwsdmFsaWRfcGVyaW9kLGxpY2Vuc2luZ19hZ2VuY3ksY2F0ZWdvcnksX2lkfX0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHt0aGlzLnN3aXRjaF9zbmFwKHRydWUsZXJyLm1lc3NhZ2UsInJlZCIpfSkNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbG9hZCA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9LA0KDQogICAgICAgIGFzeW5jIGFkZF9jYXJkcygpew0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pc0VtcHR5T2JqZWN0KHRoaXMuaW1nKSkNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbG9hZCA9IHRydWUNCiAgICAgICAgICAgIGlmKCF0aGlzLmlzRW1wdHlPYmplY3QodGhpcy5pbWcpKXsNCiAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuaW1nKQ0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJGh0dHAucG9zdChgaHR0cDovL2xvY2FsaG9zdDozMDAwL3VwbG9hZC9zaW5nbGVmaWxlVG9wYXRoP2RlcGFydG1lbnQ96KGM5pS/6YOoJmNhdGVnb3J5PeaJp+eFp+euoeeQhmAsDQogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLA0KICAgICAgICAgICAgICAgIHtoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSwNCiAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB0aGlzLm5ld2xpY2VuY2UuaW1hZ2VfdXJsID0gcmVzLmRhdGEudXJsKQ0KICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7dGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLmt7vliqDlpLHotKUs6K+36YeN6K+VIiwicmVkIiksY29uc29sZS5sb2coZXJyKX0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLm5ld2xpY2VuY2UudmFsaWRfcGVyaW9kID0gdGhpcy5uZXdsaWNlbmNlLnZhbGlkX3BlcmlvZCAtIDANCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJGh0dHAucG9zdChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2xpY2Vuc2VgLHRoaXMubmV3bGljZW5jZSkNCiAgICAgICAgICAgICAgICAudGhlbihyZXM9PiB7dGhpcy5jYXJkcy5wdXNoKHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi5re75Yqg5oiQ5YqfIiwiZ3JlZW4iKX0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7dGhpcy5zd2l0Y2hfc25hcCh0cnVlLGVyci5tYXNzZ2UsInJlZCIpLGNvbnNvbGUubG9nKGVycil9KQ0KICAgICAgICAgICAgdGhpcy5jbG9zZWRpYWxvZygpICANCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbG9hZCA9IGZhbHNlICAgIA0KICAgICAgICB9LA0KDQogICAgICAgIGFzeW5jIHVwZGF0ZV9jYXJkcygpew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVsaWNlbmNlLnZhbGlkX3BlcmlvZCA9IHRoaXMudXBkYXRlbGljZW5jZS52YWxpZF9wZXJpb2QgLSAwDQogICAgICAgICAgICBhd2FpdCB0aGlzLiRodHRwLnBhdGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbGljZW5zZS8ke3RoaXMudXBkYXRlbGljZW5jZS5faWR9YCx0aGlzLnVwZGF0ZWxpY2VuY2UpDQogICAgICAgICAgICAudGhlbihyZXMgPT4ge3RoaXMudXBkYXRlQnkodGhpcy51cGRhdGVsaWNlbmNlLl9pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi5pu05paw5oiQ5YqfIiwiZ3JlZW4iKX0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVyci5zdGF0dXMgPT0gNDAxKXt0aGlzLnN3aXRjaF9zbmFwKHRydWUsIumdnuihjOaUv+eZu+iusOS6uuWRmOaIluS4u+S7u+S4jeWPr+aTjeS9nCIsInJlZCIpfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXt0aGlzLnN3aXRjaF9zbmFwKHRydWUsIuabtOaWsOWksei0pSzor7fph43or5UiLCJyZWQiKX19KQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVkaWFsb2cgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gZmFsc2UNCiAgICAgICAgfSwNCg0KICAgICAgICBhc3luYyBkZWxldGVfY2FyZHMoaWQpew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gdHJ1ZQ0KICAgICAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9saWNlbnNlLyR7aWR9YCkNCiAgICAgICAgICAgICAgICAudGhlbihyZXM9PiB7dGhpcy5kZWxldGVCeShpZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLliKDpmaTmiJDlip8iLCJncmVlbiIpfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYoZXJyLnN0YXR1cyA9PSA0MDEpe3RoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi6Z2e6KGM5pS/55m76K6w5Lq65ZGY5oiW5Li75Lu75LiN5Y+v5pON5L2cIiwicmVkIil9DQogICAgICAgICAgICAgICAgICAgIGVsc2V7dGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLliKDpmaTlpLHotKUs6K+36YeN6K+VIiwicmVkIil9fSkNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nbG9hZCA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dkZWxldGUgPSBmYWxzZQ0KICAgICAgICB9LA0KDQogICAgICAgIGRlbGV0ZUJ5KGlkKXsgICAgIA0KICAgICAgICAgICAgbGV0IEluZGV4ID0gKHRoaXMuY2FyZHN8fCBbXSkuZmluZEluZGV4KChjYXJkKSA9PiBjYXJkLl9pZCA9PT0gaWQpOw0KICAgICAgICAgICAgdGhpcy5jYXJkcy5zcGxpY2UoSW5kZXgsMSkNCiAgICAgICAgfSwNCg0KICAgICAgICB1cGRhdGVCeShpZCl7DQogICAgICAgICAgICBsZXQgSW5kZXggPSAodGhpcy5jYXJkc3x8IFtdKS5maW5kSW5kZXgoKGNhcmQpID0+IGNhcmQuX2lkID09PSBpZCk7DQogICAgICAgICAgICB0aGlzLmNhcmRzLnNwbGljZShJbmRleCwxLHRoaXMudXBkYXRlbGljZW5jZSkNCiAgICAgICAgfSwNCg0KICAgICAgICBwaWMoYWRkcmVzcyl7DQogICAgICAgICAgICBpZihhZGRyZXNzICE9PSAnJyl7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3MNCiAgICAgICAgICAgIH1lbHNle3JldHVybiAiIn0NCiAgICAgICAgfSwNCiAgICAgICAgLy/or7vlj5bnhafniYcNCiAgICAgICAgZ2V0RmlsZSgpew0KICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5VcGxvYWRJbWcuZmlsZXNbMF0pew0KICAgICAgICAgICAgdGhpcy5pbWcgPSB0aGlzLiRyZWZzLlVwbG9hZEltZy5maWxlc1swXQ0KICAgICAgICAgICAgbGV0IHVybCA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZykNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZyk7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYod2luZG93LlVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMubmV3bGljZW5jZS5pbWFnZV91cmw9dXJsDQogICAgICAgICAgICB9ZWxzZXt0aGlzLm5ld2xpY2VuY2UuaW1hZ2VfdXJsPScnLHRoaXMuaW1nID0ge319DQogICAgICAgIH0sDQogICAgICAgIGdldFVwbG9hZEZpbGUoKXsNCiAgICAgICAgICAgIGlmKHRoaXMuJHJlZnMuVXBsb2FkSW1nMlswXS5maWxlc1swXSl7DQogICAgICAgICAgICB0aGlzLmltZyA9IHRoaXMuJHJlZnMuVXBsb2FkSW1nMlswXS5maWxlc1swXQ0KICAgICAgICAgICAgbGV0IHVybCA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jcmVhdGVPYmplY3RVUkwgIT0gdW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZykNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAod2luZG93LndlYmtpdFVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZyk7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYod2luZG93LlVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmltZyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlbGljZW5jZS5pbWFnZV91cmw9dXJsDQogICAgICAgICAgICB9ZWxzZXt0aGlzLnVwZGF0ZWxpY2VuY2UuaW1hZ2VfdXJsPScnLHRoaXMuaW1nID0ge319DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltZykNCiAgICAgICAgfSwNCiAgICAgICAgLy/ngrnlh7vop6blj5HpgInlm74NCiAgICAgICAgY2xpY2tpbnB1dCgpew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5VcGxvYWRJbWcuY2xpY2soKQ0KICAgICAgICB9LA0KICAgICAgICBjbGlja2lucHV0Migpew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5VcGxvYWRJbWcyWzBdLmNsaWNrKCkNCiAgICAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5VcGxvYWRJbWcyWzBdKQ0KICAgICAgICB9LA0KICAgICAgICAvL+WFs+mXreW8ueeqlw0KICAgICAgICBjbG9zZWRpYWxvZygpew0KICAgICAgICAgICAgdGhpcy5uZXdsaWNlbmNlPXtuYW1lOiIiLGNlcnRpZmljYXRlX3RpbWU6IiIsIGNlcnRpZmljYXRlX2lkOiIiLGltYWdlX3VybDoiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkX3BlcmlvZDowLGxpY2Vuc2luZ19hZ2VuY3k6IiIsY2F0ZWdvcnk6IiJ9DQogICAgICAgICAgICB0aGlzLmltZz17fQ0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZw0KICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBjbG9zZWR1cGRhdGVkaWFsb2coKXsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlbGljZW5jZT17bmFtZToiIixjZXJ0aWZpY2F0ZV90aW1lOiIiLCBjZXJ0aWZpY2F0ZV9pZDoiIixpbWFnZV91cmw6IiIsDQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZF9wZXJpb2Q6MCxsaWNlbnNpbmdfYWdlbmN5OiIiLGNhdGVnb3J5OiIifQ0KICAgICAgICAgICAgdGhpcy5pbWc9e30NCiAgICAgICAgICAgIHRoaXMudXBkYXRlZGlhbG9nID0gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgY2hhbmdlKCl7DQogICAgICAgICAgICB0aGlzLmltZz0ge30NCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmcNCiAgICAgICAgfSwgIA0KICAgICAgICBpc0VtcHR5T2JqZWN0KG9iail7DQogICAgICAgICAgICBmb3IobGV0IGtleSBpbiBvYmopew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["License.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"License.vue","sourceRoot":"src/pages/Administrator/components","sourcesContent":["<template>\r\n   <v-app class=\"blue accent-2 rounded-lg\">\r\n         <v-container>\r\n            <v-row dense >\r\n                <v-col cols=\"12\">\r\n                     <v-card color=\"#385F73\" dark>\r\n                        <v-card-title class=\"headline\">公司证照</v-card-title>\r\n                        <v-card-subtitle>企业资质证书实际上就是指企业有能力完成一项工程的证明书。建筑业企业应当按照其拥有的注册资本、净资产、专业技术人员、技术装备和已完成的建筑工程业绩等资质条件申请资质，经审查合格，取得相应等级的资质证书后，方可在其资质等级许可的范围内从事建筑活动</v-card-subtitle>\r\n                        <v-card-actions>\r\n                            <v-text-field dark append-icon=\"mdi-magnify\" label=\"模糊查找\" hide-details></v-text-field>\r\n                            <v-spacer></v-spacer>\r\n                            <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn class=\"ma-2\" :loading=\"loading\" :disabled=\"loading\" color=\"secondary\" @click.stop=\"change\" v-bind=\"attrs\" v-on=\"on\">新增执照</v-btn>\r\n                                </template>\r\n                                <v-card>\r\n                                    <v-card-title>\r\n                                        <span class=\"headline\">新增执照 信息</span>\r\n                                    </v-card-title>\r\n                                    <v-card-text>\r\n                                        <v-container>\r\n                                            <v-row wrap>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"执照名字*\" required v-model=\"newlicence.name\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"认证时间\" hint=\"证件所标明的生效时间\" v-model=\"newlicence.certificate_time\" type=\"date\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"证件ID*\" hint=\"证件上标明的证件号码\" persistent-hint required v-model=\"newlicence.certificate_id\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"有效年限\" required v-model=\"newlicence.valid_period\" type=\"number\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"发证机关*\" required v-model=\"newlicence.licensing_agency\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"资质类别*\" required v-model=\"newlicence.category\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"12\">\r\n                                                    <v-card class=\"mx-auto\"  outlined min-height=\"100%\" color=\"#1F7087\" :img='newlicence.image_url'>\r\n                                                        <v-layout column align-center>\r\n                                                            <v-flex class=\"mt-8 mb-8\">\r\n                                                                <input type=\"file\" accept=\"image/png, image/jpeg, image/bmp\" ref=\"UploadImg\" style=\"display:none\" @change=\"getFile()\">\r\n                                                                <v-btn color=\"blue-grey\" class=\"ma-2 white--text\" @click.stop=\"clickinput\">\r\n                                                                上传证照照片\r\n                                                                <v-icon right dark>mdi-cloud-upload</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-flex>\r\n                                                        </v-layout>\r\n                                                    </v-card>\r\n                                                </v-col>\r\n                                            </v-row>\r\n                                        </v-container>\r\n                                        <small >注意*:上传传图片大小不能超过10m*</small>\r\n                                    </v-card-text>\r\n                                        <v-card-actions>\r\n                                            <v-spacer></v-spacer>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop=\"closedialog\">关闭</v-btn>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop='add_cards'>保存上传</v-btn>\r\n                                        </v-card-actions>\r\n                                </v-card>\r\n                            </v-dialog>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-col>\r\n                <v-row dense class=\"d-flex\">\r\n                    <v-col cols=9 md=\"3\" v-for=\"(item,index) in cards\"  :key=\"index\">\r\n                            <v-card elevation=\"22\">\r\n                                <v-app-bar color=\"indigo\">\r\n                                    <v-toolbar-title class=\"white--text\">{{item.name}}</v-toolbar-title>\r\n                                </v-app-bar>\r\n                                <v-avatar class=\"ma-3\" size=\"230\" tile>\r\n                                <v-img class=\"black--text align-end\"\r\n                                :src=\"pic(item.image_url)\" :aspect-ratio=\"16/9\" height=\"280\">\r\n                                </v-img>\r\n                                </v-avatar>\r\n                                <v-card-subtitle class=\"pb-0 black--text\">发证日期:{{item.certificate_time}}</v-card-subtitle>\r\n                                <v-card-text class=\"pb-0 black--text\">\r\n                                    <div>ID号:{{item.certificate_id}}</div>\r\n                                    <div>发证单位:{{item.licensing_agency}}</div>\r\n                                </v-card-text>  \r\n                            <v-dialog v-model=\"updatedialog\" persistent max-width=\"600px\">\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn color=\"blue\" :loading=\"loading\" text @click.stop=\"find_cards(item._id)\" v-bind=\"attrs\" v-on=\"on\">更改</v-btn>\r\n                                </template>\r\n                                    <v-card>\r\n                                        <v-card-title>\r\n                                            <span class=\"headline\">更新 证照信息</span>\r\n                                        </v-card-title>\r\n                                        <v-card-text>\r\n                                            <v-container>\r\n                                            <v-row>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                        <v-text-field label=\"执照名字*\" required v-model=\"updatelicence.name\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                        <v-text-field label=\"认证时间\" hint=\"证件所标明的生效时间\" v-model=\"updatelicence.certificate_time\" type=\"date\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                        <v-text-field label=\"证件ID*\" hint=\"证件上标明的证件号码\" persistent-hint required v-model=\"updatelicence.certificate_id\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                        <v-text-field label=\"有效年限\" type='number' v-model=\"updatelicence.valid_period\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                            <v-text-field label=\"发证机关*\" required v-model=\"updatelicence.licensing_agency\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                            <v-text-field label=\"资质类别*\" required v-model=\"updatelicence.category\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"12\">\r\n                                            <v-card class=\"mx-auto\"  outlined min-height=\"100%\" color=\"#1F7087\" :img='updatelicence.image_url'>\r\n                                                <v-layout column align-center>\r\n                                                    <v-flex class=\"mt-8 mb-8\">\r\n                                                        <input type=\"file\" accept=\"image/png, image/jpeg, image/bmp\" ref=\"UploadImg2\" style=\"display:none\" @change=\"getUploadFile()\">\r\n                                                            <v-btn color=\"blue-grey\" class=\"ma-2 white--text\" @click.stop=\"clickinput2\">\r\n                                                            上传证照照片\r\n                                                            <v-icon right dark>mdi-cloud-upload</v-icon>\r\n                                                            </v-btn>\r\n                                                    </v-flex>\r\n                                                </v-layout>\r\n                                            </v-card>\r\n                                                </v-col>\r\n                                            </v-row>\r\n                                            </v-container>\r\n                                            <small>*indicates required field</small>\r\n                                        </v-card-text>\r\n                                        <v-card-actions>\r\n                                            <v-spacer></v-spacer>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop=\"closedupdatedialog\">关闭</v-btn>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop='update_cards'>保存上传</v-btn>\r\n                                        </v-card-actions>\r\n                                    </v-card>\r\n                            </v-dialog>\r\n                            <v-dialog v-model=\"dialogdelete\" persistent max-width=\"290\">\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn color=\"blue\" outlined :loading=\"loading\" v-bind=\"attrs\" v-on=\"on\" @click.stop=\"dialogdelete = !dialogdelete\">删除</v-btn>\r\n                                </template>\r\n                                    <v-card>\r\n                                    <v-card-title class=\"headline\">确定删除吗?</v-card-title>\r\n                                    <v-card-text>删除后不能恢复,确定要删除吗?</v-card-text>\r\n                                        <v-card-actions>\r\n                                            <v-spacer></v-spacer>\r\n                                            <v-btn color=\"blue darken-1 white--text\" @click.stop=\"dialogdelete = false\">算了</v-btn>\r\n                                            <v-btn color=\"blue darken-1 white--text\" @click.stop=\"delete_cards(item._id)\">确定</v-btn>\r\n                                        </v-card-actions>\r\n                                    </v-card>\r\n                            </v-dialog>\r\n                        </v-card> \r\n                    </v-col>\r\n                </v-row>\r\n                \r\n                \r\n\r\n            <v-dialog v-model=\"dialogload\" hide-overlay persistent  width=\"300\">\r\n                <v-card color=\"primary\" dark>\r\n                    <v-card-text>请稍等\r\n                        <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n                    </v-card-text>\r\n                </v-card>\r\n            </v-dialog>\r\n                <Snap-bar :snacker='snacker'></Snap-bar>\r\n            </v-row>\r\n         </v-container>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport SnapBar from '@/components/SnapBar.vue';\r\nexport default {\r\n    props:{licences:Array},\r\n    name: 'License',\r\n    data(){\r\n        return{\r\n            cards:this.licences,\r\n            snacker:{sbar:false,stext:\"\",scolor:\"\"},\r\n            //新增图框和更新图框\r\n            dialog:false,\r\n            updatedialog:false,\r\n            //加载条和按键加载\r\n            dialogload:false,   \r\n            dialogdelete:false,\r\n            loading:false,\r\n            newlicence:{name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"},\r\n            updatelicence:{name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\",_id:\"\"},\r\n            img:{},\r\n            //默认图片\r\n        }\r\n    },\r\n    components:{\r\n        SnapBar\r\n    },\r\n    methods:{\r\n        switch_snap(show,text,color){\r\n            this.snacker.sbar=show\r\n            this.snacker.stext=text\r\n            this.snacker.scolor=color\r\n        },\r\n        async find_cards(id){\r\n            this.loading = true\r\n            this.dialogload = true\r\n            await this.$http.get(`http://localhost:3000/license/${id}?fields=category&populatefields`)\r\n            .then(res=> {\r\n                this.switch_snap(true,\"读取成功\",\"blue\")\r\n                const{name,certificate_time,certificate_id,image_url,valid_period,licensing_agency,category,_id} =  res.data\r\n                this.updatelicence = {name,certificate_time,certificate_id,image_url,valid_period,licensing_agency,category,_id}})\r\n            .catch(err => {this.switch_snap(true,err.message,\"red\")})\r\n            this.dialogload = false\r\n            this.loading = false\r\n        },\r\n\r\n        async add_cards(){\r\n            console.log(this.isEmptyObject(this.img))\r\n            this.dialogload = true\r\n            if(!this.isEmptyObject(this.img)){\r\n                let formData = new FormData()\r\n                formData.append('file', this.img)\r\n                await this.$http.post(`http://localhost:3000/upload/singlefileTopath?department=行政部&category=执照管理`,\r\n                    formData,\r\n                {headers: { 'Content-Type': 'multipart/form-data' },\r\n                }).then(res => this.newlicence.image_url = res.data.url)\r\n                  .catch(err => {this.switch_snap(true,\"添加失败,请重试\",\"red\"),console.log(err)})\r\n            }\r\n            this.newlicence.valid_period = this.newlicence.valid_period - 0\r\n            await this.$http.post(`http://localhost:3000/license`,this.newlicence)\r\n                .then(res=> {this.cards.push(res.data)\r\n                            this.switch_snap(true,\"添加成功\",\"green\")})\r\n                .catch(err => {this.switch_snap(true,err.massge,\"red\"),console.log(err)})\r\n            this.closedialog()  \r\n            this.dialogload = false    \r\n        },\r\n\r\n        async update_cards(){\r\n            this.dialogload = true\r\n            this.updatelicence.valid_period = this.updatelicence.valid_period - 0\r\n            await this.$http.patch(`http://localhost:3000/license/${this.updatelicence._id}`,this.updatelicence)\r\n            .then(res => {this.updateBy(this.updatelicence._id)\r\n                        console.log(res)\r\n                        this.switch_snap(true,\"更新成功\",\"green\")})\r\n            .catch(err => {\r\n                        if(err.status == 401){this.switch_snap(true,\"非行政登记人员或主任不可操作\",\"red\")}\r\n                        else{this.switch_snap(true,\"更新失败,请重试\",\"red\")}})\r\n            this.updatedialog = false\r\n            this.dialogload = false\r\n        },\r\n\r\n        async delete_cards(id){\r\n            this.loading = true\r\n            this.dialogload = true\r\n            await this.$http.delete(`http://localhost:3000/license/${id}`)\r\n                .then(res=> {this.deleteBy(id)\r\n                            console.log(res)\r\n                            this.switch_snap(true,\"删除成功\",\"green\")})\r\n                .catch(err => {\r\n                    if(err.status == 401){this.switch_snap(true,\"非行政登记人员或主任不可操作\",\"red\")}\r\n                    else{this.switch_snap(true,\"删除失败,请重试\",\"red\")}})\r\n            this.dialogload = false\r\n            this.loading = false\r\n            this.dialogdelete = false\r\n        },\r\n\r\n        deleteBy(id){     \r\n            let Index = (this.cards|| []).findIndex((card) => card._id === id);\r\n            this.cards.splice(Index,1)\r\n        },\r\n\r\n        updateBy(id){\r\n            let Index = (this.cards|| []).findIndex((card) => card._id === id);\r\n            this.cards.splice(Index,1,this.updatelicence)\r\n        },\r\n\r\n        pic(address){\r\n            if(address !== ''){\r\n                return address\r\n            }else{return \"\"}\r\n        },\r\n        //读取照片\r\n        getFile(){\r\n            if(this.$refs.UploadImg.files[0]){\r\n            this.img = this.$refs.UploadImg.files[0]\r\n            let url = null;\r\n                if (window.createObjectURL != undefined){\r\n                    url = window.createObjectURL(this.img)\r\n                }else if (window.webkitURL != undefined){\r\n                    url = window.webkitURL.createObjectURL(this.img);\r\n                }else if(window.URL != undefined){\r\n                    url = window.URL.createObjectURL(this.img);\r\n                }\r\n                this.newlicence.image_url=url\r\n            }else{this.newlicence.image_url='',this.img = {}}\r\n        },\r\n        getUploadFile(){\r\n            if(this.$refs.UploadImg2[0].files[0]){\r\n            this.img = this.$refs.UploadImg2[0].files[0]\r\n            let url = null;\r\n                if (window.createObjectURL != undefined){\r\n                    url = window.createObjectURL(this.img)\r\n                }else if (window.webkitURL != undefined){\r\n                    url = window.webkitURL.createObjectURL(this.img);\r\n                }else if(window.URL != undefined){\r\n                    url = window.URL.createObjectURL(this.img);\r\n                }\r\n                this.updatelicence.image_url=url\r\n            }else{this.updatelicence.image_url='',this.img = {}}\r\n            console.log(this.img)\r\n        },\r\n        //点击触发选图\r\n        clickinput(){\r\n            this.$refs.UploadImg.click()\r\n        },\r\n        clickinput2(){\r\n            this.$refs.UploadImg2[0].click()\r\n           console.log(this.$refs.UploadImg2[0])\r\n        },\r\n        //关闭弹窗\r\n        closedialog(){\r\n            this.newlicence={name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"}\r\n            this.img={}\r\n            this.loading = !this.loading\r\n            this.dialog = false\r\n        },\r\n        closedupdatedialog(){\r\n            this.updatelicence={name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"}\r\n            this.img={}\r\n            this.updatedialog = false\r\n        },\r\n        change(){\r\n            this.img= {}\r\n            this.loading = !this.loading\r\n        },  \r\n        isEmptyObject(obj){\r\n            for(let key in obj){\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }\r\n}\r\n</script>"]}]}