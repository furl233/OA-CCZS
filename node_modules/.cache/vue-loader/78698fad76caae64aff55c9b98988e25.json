{"remainingRequest":"D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\new-app\\src\\pages\\Administrator\\components\\License.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\new-app\\src\\pages\\Administrator\\components\\License.vue","mtime":1607930665236},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\new-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\new-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU25hcEJhciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1NuYXBCYXIudnVlJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBwcm9wczp7bGljZW5jZXM6QXJyYXl9LA0KICAgIG5hbWU6ICdMaWNlbnNlJywNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIGNhcmRzOnRoaXMubGljZW5jZXMsDQogICAgICAgICAgICBzbmFja2VyOntzYmFyOmZhbHNlLHN0ZXh0OiIiLHNjb2xvcjoiIn0sDQogICAgICAgICAgICAvL+aWsOWinuWbvuahhuWSjOabtOaWsOWbvuahhg0KICAgICAgICAgICAgZGlhbG9nOmZhbHNlLA0KICAgICAgICAgICAgdXBkYXRlZGlhbG9nOmZhbHNlLA0KICAgICAgICAgICAgLy/liqDovb3mnaHlkozmjInplK7liqDovb0NCiAgICAgICAgICAgIGRpYWxvZ2xvYWQ6ZmFsc2UsICAgDQogICAgICAgICAgICBkaWFsb2dkZWxldGU6ZmFsc2UsDQogICAgICAgICAgICBsb2FkaW5nOmZhbHNlLA0KICAgICAgICAgICAgbmV3bGljZW5jZTp7bmFtZToiIixjZXJ0aWZpY2F0ZV90aW1lOiIiLCBjZXJ0aWZpY2F0ZV9pZDoiIixpbWFnZV91cmw6IiIsDQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZF9wZXJpb2Q6MCxsaWNlbnNpbmdfYWdlbmN5OiIiLGNhdGVnb3J5OiIifSwNCiAgICAgICAgICAgIHVwZGF0ZWxpY2VuY2U6e25hbWU6IiIsY2VydGlmaWNhdGVfdGltZToiIiwgY2VydGlmaWNhdGVfaWQ6IiIsaW1hZ2VfdXJsOiIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRfcGVyaW9kOjAsbGljZW5zaW5nX2FnZW5jeToiIixjYXRlZ29yeToiIixfaWQ6IiJ9LA0KICAgICAgICAgICAgaW1nOnt9LA0KICAgICAgICAgICAgLy/pu5jorqTlm77niYcNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcG9uZW50czp7DQogICAgICAgIFNuYXBCYXINCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBzd2l0Y2hfc25hcChzaG93LHRleHQsY29sb3Ipew0KICAgICAgICAgICAgdGhpcy5zbmFja2VyLnNiYXI9c2hvdw0KICAgICAgICAgICAgdGhpcy5zbmFja2VyLnN0ZXh0PXRleHQNCiAgICAgICAgICAgIHRoaXMuc25hY2tlci5zY29sb3I9Y29sb3INCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZmluZF9jYXJkcyhpZCl7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmRpYWxvZ2xvYWQgPSB0cnVlDQogICAgICAgICAgICBhd2FpdCB0aGlzLiRodHRwLmdldChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2xpY2Vuc2UvJHtpZH0/ZmllbGRzPWNhdGVnb3J5JnBvcHVsYXRlZmllbGRzYCkNCiAgICAgICAgICAgIC50aGVuKHJlcz0+IHsNCiAgICAgICAgICAgICAgICBjb25zdHtuYW1lLGNlcnRpZmljYXRlX3RpbWUsY2VydGlmaWNhdGVfaWQsaW1hZ2VfdXJsLHZhbGlkX3BlcmlvZCxsaWNlbnNpbmdfYWdlbmN5LGNhdGVnb3J5LF9pZH0gPSAgcmVzLmRhdGENCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWxpY2VuY2UgPSB7bmFtZSxjZXJ0aWZpY2F0ZV90aW1lLGNlcnRpZmljYXRlX2lkLGltYWdlX3VybCx2YWxpZF9wZXJpb2QsbGljZW5zaW5nX2FnZW5jeSxjYXRlZ29yeSxfaWR9fSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge3RoaXMuc3dpdGNoX3NuYXAodHJ1ZSxlcnIubWVzc2FnZSwicmVkIil9KQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0sDQoNCiAgICAgICAgYXN5bmMgYWRkX2NhcmRzKCl7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlzRW1wdHlPYmplY3QodGhpcy5pbWcpKQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gdHJ1ZQ0KICAgICAgICAgICAgaWYoIXRoaXMuaXNFbXB0eU9iamVjdCh0aGlzLmltZykpew0KICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy5pbWcpDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvdXBsb2FkL3NpbmdsZWZpbGVUb3BhdGg/ZGVwYXJ0bWVudD3ooYzmlL/pg6gmY2F0ZWdvcnk95omn54Wn566h55CGYCwNCiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEsDQogICAgICAgICAgICAgICAge2hlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9LA0KICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHRoaXMubmV3bGljZW5jZS5pbWFnZV91cmwgPSByZXMuZGF0YS51cmwpDQogICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHt0aGlzLnN3aXRjaF9zbmFwKHRydWUsIua3u+WKoOWksei0pSzor7fph43or5UiLCJyZWQiKSxjb25zb2xlLmxvZyhlcnIpfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMubmV3bGljZW5jZS52YWxpZF9wZXJpb2QgPSB0aGlzLm5ld2xpY2VuY2UudmFsaWRfcGVyaW9kIC0gMA0KICAgICAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbGljZW5zZWAsdGhpcy5uZXdsaWNlbmNlKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcz0+IHt0aGlzLmNhcmRzLnB1c2gocmVzLmRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLmt7vliqDmiJDlip8iLCJncmVlbiIpfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHt0aGlzLnN3aXRjaF9zbmFwKHRydWUsZXJyLm1hc3NnZSwicmVkIiksY29uc29sZS5sb2coZXJyKX0pDQogICAgICAgICAgICB0aGlzLmNsb3NlZGlhbG9nKCkgIA0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gZmFsc2UgICAgDQogICAgICAgIH0sDQoNCiAgICAgICAgYXN5bmMgdXBkYXRlX2NhcmRzKCl7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ2xvYWQgPSB0cnVlDQogICAgICAgICAgICB0aGlzLnVwZGF0ZWxpY2VuY2UudmFsaWRfcGVyaW9kID0gdGhpcy51cGRhdGVsaWNlbmNlLnZhbGlkX3BlcmlvZCAtIDANCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJGh0dHAucGF0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9saWNlbnNlLyR7dGhpcy51cGRhdGVsaWNlbmNlLl9pZH1gLHRoaXMudXBkYXRlbGljZW5jZSkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7dGhpcy51cGRhdGVCeSh0aGlzLnVwZGF0ZWxpY2VuY2UuX2lkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLmm7TmlrDmiJDlip8iLCJncmVlbiIpfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyLnN0YXR1cyA9PSA0MDEpe3RoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi6Z2e6KGM5pS/55m76K6w5Lq65ZGY5oiW5Li75Lu75LiN5Y+v5pON5L2cIiwicmVkIil9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNle3RoaXMuc3dpdGNoX3NuYXAodHJ1ZSwi5pu05paw5aSx6LSlLOivt+mHjeivlSIsInJlZCIpfX0pDQogICAgICAgICAgICB0aGlzLnVwZGF0ZWRpYWxvZyA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmRpYWxvZ2xvYWQgPSBmYWxzZQ0KICAgICAgICB9LA0KDQogICAgICAgIGFzeW5jIGRlbGV0ZV9jYXJkcyhpZCl7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmRpYWxvZ2xvYWQgPSB0cnVlDQogICAgICAgICAgICBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZShgaHR0cDovL2xvY2FsaG9zdDozMDAwL2xpY2Vuc2UvJHtpZH1gKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcz0+IHt0aGlzLmRlbGV0ZUJ5KGlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaF9zbmFwKHRydWUsIuWIoOmZpOaIkOWKnyIsImdyZWVuIil9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZihlcnIuc3RhdHVzID09IDQwMSl7dGhpcy5zd2l0Y2hfc25hcCh0cnVlLCLpnZ7ooYzmlL/nmbvorrDkurrlkZjmiJbkuLvku7vkuI3lj6/mk43kvZwiLCJyZWQiKX0NCiAgICAgICAgICAgICAgICAgICAgZWxzZXt0aGlzLnN3aXRjaF9zbmFwKHRydWUsIuWIoOmZpOWksei0pSzor7fph43or5UiLCJyZWQiKX19KQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dsb2FkID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmRpYWxvZ2RlbGV0ZSA9IGZhbHNlDQogICAgICAgIH0sDQoNCiAgICAgICAgZGVsZXRlQnkoaWQpeyAgICAgDQogICAgICAgICAgICBsZXQgSW5kZXggPSAodGhpcy5jYXJkc3x8IFtdKS5maW5kSW5kZXgoKGNhcmQpID0+IGNhcmQuX2lkID09PSBpZCk7DQogICAgICAgICAgICB0aGlzLmNhcmRzLnNwbGljZShJbmRleCwxKQ0KICAgICAgICB9LA0KDQogICAgICAgIHVwZGF0ZUJ5KGlkKXsNCiAgICAgICAgICAgIGxldCBJbmRleCA9ICh0aGlzLmNhcmRzfHwgW10pLmZpbmRJbmRleCgoY2FyZCkgPT4gY2FyZC5faWQgPT09IGlkKTsNCiAgICAgICAgICAgIHRoaXMuY2FyZHMuc3BsaWNlKEluZGV4LDEsdGhpcy51cGRhdGVsaWNlbmNlKQ0KICAgICAgICB9LA0KDQogICAgICAgIHBpYyhhZGRyZXNzKXsNCiAgICAgICAgICAgIGlmKGFkZHJlc3MgIT09ICcnKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzcw0KICAgICAgICAgICAgfWVsc2V7cmV0dXJuICIifQ0KICAgICAgICB9LA0KICAgICAgICAvL+ivu+WPlueFp+eJhw0KICAgICAgICBnZXRGaWxlKCl7DQogICAgICAgICAgICBpZih0aGlzLiRyZWZzLlVwbG9hZEltZy5maWxlc1swXSl7DQogICAgICAgICAgICB0aGlzLmltZyA9IHRoaXMuJHJlZnMuVXBsb2FkSW1nLmZpbGVzWzBdDQogICAgICAgICAgICBsZXQgdXJsID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5uZXdsaWNlbmNlLmltYWdlX3VybD11cmwNCiAgICAgICAgICAgIH1lbHNle3RoaXMubmV3bGljZW5jZS5pbWFnZV91cmw9JycsdGhpcy5pbWcgPSB7fX0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VXBsb2FkRmlsZSgpew0KICAgICAgICAgICAgaWYodGhpcy4kcmVmcy5VcGxvYWRJbWcyWzBdLmZpbGVzWzBdKXsNCiAgICAgICAgICAgIHRoaXMuaW1nID0gdGhpcy4kcmVmcy5VcGxvYWRJbWcyWzBdLmZpbGVzWzBdDQogICAgICAgICAgICBsZXQgdXJsID0gbnVsbDsNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNyZWF0ZU9iamVjdFVSTCAhPSB1bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHdpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih3aW5kb3cuVVJMICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVsaWNlbmNlLmltYWdlX3VybD11cmwNCiAgICAgICAgICAgIH1lbHNle3RoaXMudXBkYXRlbGljZW5jZS5pbWFnZV91cmw9JycsdGhpcy5pbWcgPSB7fX0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1nKQ0KICAgICAgICB9LA0KICAgICAgICAvL+eCueWHu+inpuWPkemAieWbvg0KICAgICAgICBjbGlja2lucHV0KCl7DQogICAgICAgICAgICB0aGlzLiRyZWZzLlVwbG9hZEltZy5jbGljaygpDQogICAgICAgIH0sDQogICAgICAgIGNsaWNraW5wdXQyKCl7DQogICAgICAgICAgICB0aGlzLiRyZWZzLlVwbG9hZEltZzJbMF0uY2xpY2soKQ0KICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLlVwbG9hZEltZzJbMF0pDQogICAgICAgIH0sDQogICAgICAgIC8v5YWz6Zet5by556qXDQogICAgICAgIGNsb3NlZGlhbG9nKCl7DQogICAgICAgICAgICB0aGlzLm5ld2xpY2VuY2U9e25hbWU6IiIsY2VydGlmaWNhdGVfdGltZToiIiwgY2VydGlmaWNhdGVfaWQ6IiIsaW1hZ2VfdXJsOiIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRfcGVyaW9kOjAsbGljZW5zaW5nX2FnZW5jeToiIixjYXRlZ29yeToiIn0NCiAgICAgICAgICAgIHRoaXMuaW1nPXt9DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAhdGhpcy5sb2FkaW5nDQogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGNsb3NlZHVwZGF0ZWRpYWxvZygpew0KICAgICAgICAgICAgdGhpcy51cGRhdGVsaWNlbmNlPXtuYW1lOiIiLGNlcnRpZmljYXRlX3RpbWU6IiIsIGNlcnRpZmljYXRlX2lkOiIiLGltYWdlX3VybDoiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkX3BlcmlvZDowLGxpY2Vuc2luZ19hZ2VuY3k6IiIsY2F0ZWdvcnk6IiJ9DQogICAgICAgICAgICB0aGlzLmltZz17fQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVkaWFsb2cgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2UoKXsNCiAgICAgICAgICAgIHRoaXMuaW1nPSB7fQ0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZw0KICAgICAgICB9LCAgDQogICAgICAgIGlzRW1wdHlPYmplY3Qob2JqKXsNCiAgICAgICAgICAgIGZvcihsZXQga2V5IGluIG9iail7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["License.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"License.vue","sourceRoot":"src/pages/Administrator/components","sourcesContent":["<template>\r\n   <v-app class=\"blue accent-2 rounded-lg\">\r\n         <v-container>\r\n            <v-row dense>\r\n                <v-col cols=\"12\">\r\n                     <v-card color=\"#385F73\" dark>\r\n                        <v-card-title class=\"headline\">公司证照</v-card-title>\r\n                        <v-card-subtitle>企业资质证书实际上就是指企业有能力完成一项工程的证明书。建筑业企业应当按照其拥有的注册资本、净资产、专业技术人员、技术装备和已完成的建筑工程业绩等资质条件申请资质，经审查合格，取得相应等级的资质证书后，方可在其资质等级许可的范围内从事建筑活动</v-card-subtitle>\r\n                        <v-card-actions>\r\n                            <v-text-field dark append-icon=\"mdi-magnify\" label=\"模糊查找\" hide-details></v-text-field>\r\n                            <v-spacer></v-spacer>\r\n                            <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn class=\"ma-2\" :loading=\"loading\" :disabled=\"loading\" color=\"secondary\" @click.stop=\"change\" v-bind=\"attrs\" v-on=\"on\">新增执照</v-btn>\r\n                                </template>\r\n                                <v-card>\r\n                                    <v-card-title>\r\n                                        <span class=\"headline\">新增执照 信息</span>\r\n                                    </v-card-title>\r\n                                    <v-card-text>\r\n                                        <v-container>\r\n                                            <v-row wrap>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"执照名字*\" required v-model=\"newlicence.name\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"认证时间\" hint=\"证件所标明的生效时间\" v-model=\"newlicence.certificate_time\" type=\"date\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"证件ID*\" hint=\"证件上标明的证件号码\" persistent-hint required v-model=\"newlicence.certificate_id\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"有效年限\" required v-model=\"newlicence.valid_period\" type=\"number\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"发证机关*\" required v-model=\"newlicence.licensing_agency\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"资质类别*\" required v-model=\"newlicence.category\"></v-text-field>\r\n                                                </v-col>\r\n                                                <v-col cols=\"12\" sm=\"12\">\r\n                                                    <v-card class=\"mx-auto\"  outlined min-height=\"100%\" color=\"#1F7087\" :img='newlicence.image_url'>\r\n                                                        <v-layout column align-center>\r\n                                                            <v-flex class=\"mt-8 mb-8\">\r\n                                                                <input type=\"file\" accept=\"image/png, image/jpeg, image/bmp\" ref=\"UploadImg\" style=\"display:none\" @change=\"getFile()\">\r\n                                                                <v-btn color=\"blue-grey\" class=\"ma-2 white--text\" @click.stop=\"clickinput\">\r\n                                                                上传证照照片\r\n                                                                <v-icon right dark>mdi-cloud-upload</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-flex>\r\n                                                        </v-layout>\r\n                                                    </v-card>\r\n                                                </v-col>\r\n                                            </v-row>\r\n                                        </v-container>\r\n                                        <small >注意*:上传传图片大小不能超过10m*</small>\r\n                                    </v-card-text>\r\n                                        <v-card-actions>\r\n                                            <v-spacer></v-spacer>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop=\"closedialog\">关闭</v-btn>\r\n                                            <v-btn color=\"blue darken-1\" text @click.stop='add_cards'>保存上传</v-btn>\r\n                                        </v-card-actions>\r\n                                </v-card>\r\n                            </v-dialog>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-col>\r\n\r\n                <v-col cols=12 xs=\"6\" sm=\"6\" md=\"3\" v-for=\"(item,index) in cards\"  :key=\"index\">\r\n                    <v-card elevation=\"22\" outlined >\r\n                            <v-img class=\"black--text align-end ma-1\"\r\n                            :src=\"pic(item.image_url)\" :aspect-ratio=\"16/9\" height=\"280\" \r\n                            >\r\n                            </v-img>\r\n                            <v-card-title>{{item.name}}</v-card-title>\r\n                            <v-card-subtitle class=\"pb-0\">发证日期:{{item.certificate_time}}</v-card-subtitle>\r\n                            <v-card-text >\r\n                                <div>ID号:{{item.certificate_id}}</div>\r\n                                <div>发证单位:{{item.licensing_agency}}</div>\r\n                            </v-card-text>  \r\n                        <v-dialog v-model=\"updatedialog\" max-width=\"600px\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-btn color=\"blue\" :loading=\"loading\" text @click.stop=\"find_cards(item._id)\" v-bind=\"attrs\" v-on=\"on\">更改</v-btn>\r\n                            </template>\r\n                                <v-card>\r\n                                    <v-card-title>\r\n                                        <span class=\"headline\">更新 证照信息</span>\r\n                                    </v-card-title>\r\n                                    <v-card-text>\r\n                                        <v-container>\r\n                                        <v-row>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                    <v-text-field label=\"执照名字*\" required v-model=\"updatelicence.name\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                    <v-text-field label=\"认证时间\" hint=\"证件所标明的生效时间\" v-model=\"updatelicence.certificate_time\" type=\"date\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"证件ID*\" hint=\"证件上标明的证件号码\" persistent-hint required v-model=\"updatelicence.certificate_id\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                    <v-text-field label=\"有效年限\" type='number' v-model=\"updatelicence.valid_period\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                        <v-text-field label=\"发证机关*\" required v-model=\"updatelicence.licensing_agency\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                                        <v-text-field label=\"资质类别*\" required v-model=\"updatelicence.category\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"12\" sm=\"12\">\r\n                                        <v-card class=\"mx-auto\"  outlined min-height=\"100%\" color=\"#1F7087\" :img='updatelicence.image_url'>\r\n                                            <v-layout column align-center>\r\n                                                <v-flex class=\"mt-8 mb-8\">\r\n                                                    <input type=\"file\" accept=\"image/png, image/jpeg, image/bmp\" ref=\"UploadImg2\" style=\"display:none\" @change=\"getUploadFile()\">\r\n                                                        <v-btn color=\"blue-grey\" class=\"ma-2 white--text\" @click.stop=\"clickinput2\">\r\n                                                        上传证照照片\r\n                                                        <v-icon right dark>mdi-cloud-upload</v-icon>\r\n                                                        </v-btn>\r\n                                                </v-flex>\r\n                                            </v-layout>\r\n                                        </v-card>\r\n                                            </v-col>\r\n                                        </v-row>\r\n                                        </v-container>\r\n                                        <small>*indicates required field</small>\r\n                                    </v-card-text>\r\n                                    <v-card-actions>\r\n                                        <v-spacer></v-spacer>\r\n                                        <v-btn color=\"blue darken-1\" text @click.stop=\"closedupdatedialog\">关闭</v-btn>\r\n                                        <v-btn color=\"blue darken-1\" text @click.stop='update_cards'>保存上传</v-btn>\r\n                                    </v-card-actions>\r\n                                </v-card>\r\n                        </v-dialog>\r\n\r\n                        <v-dialog v-model=\"dialogdelete\" persistent max-width=\"290\">\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-btn color=\"blue\" outlined :loading=\"loading\" v-bind=\"attrs\" v-on=\"on\" @click.stop=\"dialogdelete = !dialogdelete\">删除</v-btn>\r\n                            </template>\r\n                                <v-card>\r\n                                <v-card-title class=\"headline\">确定删除吗?</v-card-title>\r\n                                <v-card-text>删除后不能恢复,确定要删除吗?</v-card-text>\r\n                                    <v-card-actions>\r\n                                        <v-spacer></v-spacer>\r\n                                        <v-btn color=\"blue darken-1 white--text\" @click.stop=\"dialogdelete = false\">算了</v-btn>\r\n                                        <v-btn color=\"blue darken-1 white--text\" @click.stop=\"delete_cards(item._id)\">确定</v-btn>\r\n                                    </v-card-actions>\r\n                                </v-card>\r\n                        </v-dialog>\r\n                    </v-card> \r\n                </v-col>\r\n                \r\n\r\n            <v-dialog v-model=\"dialogload\" hide-overlay width=\"300\">\r\n                <v-card color=\"primary\" dark>\r\n                    <v-card-text>请稍等\r\n                        <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n                    </v-card-text>\r\n                </v-card>\r\n            </v-dialog>\r\n                <Snap-bar :snacker='snacker'></Snap-bar>\r\n            </v-row>\r\n         </v-container>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport SnapBar from '../../../components/SnapBar.vue';\r\nexport default {\r\n    props:{licences:Array},\r\n    name: 'License',\r\n    data(){\r\n        return{\r\n            cards:this.licences,\r\n            snacker:{sbar:false,stext:\"\",scolor:\"\"},\r\n            //新增图框和更新图框\r\n            dialog:false,\r\n            updatedialog:false,\r\n            //加载条和按键加载\r\n            dialogload:false,   \r\n            dialogdelete:false,\r\n            loading:false,\r\n            newlicence:{name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"},\r\n            updatelicence:{name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\",_id:\"\"},\r\n            img:{},\r\n            //默认图片\r\n        }\r\n    },\r\n    components:{\r\n        SnapBar\r\n    },\r\n    methods:{\r\n        switch_snap(show,text,color){\r\n            this.snacker.sbar=show\r\n            this.snacker.stext=text\r\n            this.snacker.scolor=color\r\n        },\r\n        async find_cards(id){\r\n            this.loading = true\r\n            this.dialogload = true\r\n            await this.$http.get(`http://localhost:3000/license/${id}?fields=category&populatefields`)\r\n            .then(res=> {\r\n                const{name,certificate_time,certificate_id,image_url,valid_period,licensing_agency,category,_id} =  res.data\r\n                this.updatelicence = {name,certificate_time,certificate_id,image_url,valid_period,licensing_agency,category,_id}})\r\n            .catch(err => {this.switch_snap(true,err.message,\"red\")})\r\n            this.dialogload = false\r\n            this.loading = false\r\n        },\r\n\r\n        async add_cards(){\r\n            console.log(this.isEmptyObject(this.img))\r\n            this.dialogload = true\r\n            if(!this.isEmptyObject(this.img)){\r\n                let formData = new FormData()\r\n                formData.append('file', this.img)\r\n                await this.$http.post(`http://localhost:3000/upload/singlefileTopath?department=行政部&category=执照管理`,\r\n                    formData,\r\n                {headers: { 'Content-Type': 'multipart/form-data' },\r\n                }).then(res => this.newlicence.image_url = res.data.url)\r\n                  .catch(err => {this.switch_snap(true,\"添加失败,请重试\",\"red\"),console.log(err)})\r\n            }\r\n            this.newlicence.valid_period = this.newlicence.valid_period - 0\r\n            await this.$http.post(`http://localhost:3000/license`,this.newlicence)\r\n                .then(res=> {this.cards.push(res.data)\r\n                            this.switch_snap(true,\"添加成功\",\"green\")})\r\n                .catch(err => {this.switch_snap(true,err.massge,\"red\"),console.log(err)})\r\n            this.closedialog()  \r\n            this.dialogload = false    \r\n        },\r\n\r\n        async update_cards(){\r\n            this.dialogload = true\r\n            this.updatelicence.valid_period = this.updatelicence.valid_period - 0\r\n            await this.$http.patch(`http://localhost:3000/license/${this.updatelicence._id}`,this.updatelicence)\r\n            .then(res => {this.updateBy(this.updatelicence._id)\r\n                        console.log(res)\r\n                        this.switch_snap(true,\"更新成功\",\"green\")})\r\n            .catch(err => {\r\n                        if(err.status == 401){this.switch_snap(true,\"非行政登记人员或主任不可操作\",\"red\")}\r\n                        else{this.switch_snap(true,\"更新失败,请重试\",\"red\")}})\r\n            this.updatedialog = false\r\n            this.dialogload = false\r\n        },\r\n\r\n        async delete_cards(id){\r\n            this.loading = true\r\n            this.dialogload = true\r\n            await this.$http.delete(`http://localhost:3000/license/${id}`)\r\n                .then(res=> {this.deleteBy(id)\r\n                            console.log(res)\r\n                            this.switch_snap(true,\"删除成功\",\"green\")})\r\n                .catch(err => {\r\n                    if(err.status == 401){this.switch_snap(true,\"非行政登记人员或主任不可操作\",\"red\")}\r\n                    else{this.switch_snap(true,\"删除失败,请重试\",\"red\")}})\r\n            this.dialogload = false\r\n            this.loading = false\r\n            this.dialogdelete = false\r\n        },\r\n\r\n        deleteBy(id){     \r\n            let Index = (this.cards|| []).findIndex((card) => card._id === id);\r\n            this.cards.splice(Index,1)\r\n        },\r\n\r\n        updateBy(id){\r\n            let Index = (this.cards|| []).findIndex((card) => card._id === id);\r\n            this.cards.splice(Index,1,this.updatelicence)\r\n        },\r\n\r\n        pic(address){\r\n            if(address !== ''){\r\n                return address\r\n            }else{return \"\"}\r\n        },\r\n        //读取照片\r\n        getFile(){\r\n            if(this.$refs.UploadImg.files[0]){\r\n            this.img = this.$refs.UploadImg.files[0]\r\n            let url = null;\r\n                if (window.createObjectURL != undefined){\r\n                    url = window.createObjectURL(this.img)\r\n                }else if (window.webkitURL != undefined){\r\n                    url = window.webkitURL.createObjectURL(this.img);\r\n                }else if(window.URL != undefined){\r\n                    url = window.URL.createObjectURL(this.img);\r\n                }\r\n                this.newlicence.image_url=url\r\n            }else{this.newlicence.image_url='',this.img = {}}\r\n        },\r\n        getUploadFile(){\r\n            if(this.$refs.UploadImg2[0].files[0]){\r\n            this.img = this.$refs.UploadImg2[0].files[0]\r\n            let url = null;\r\n                if (window.createObjectURL != undefined){\r\n                    url = window.createObjectURL(this.img)\r\n                }else if (window.webkitURL != undefined){\r\n                    url = window.webkitURL.createObjectURL(this.img);\r\n                }else if(window.URL != undefined){\r\n                    url = window.URL.createObjectURL(this.img);\r\n                }\r\n                this.updatelicence.image_url=url\r\n            }else{this.updatelicence.image_url='',this.img = {}}\r\n            console.log(this.img)\r\n        },\r\n        //点击触发选图\r\n        clickinput(){\r\n            this.$refs.UploadImg.click()\r\n        },\r\n        clickinput2(){\r\n            this.$refs.UploadImg2[0].click()\r\n           console.log(this.$refs.UploadImg2[0])\r\n        },\r\n        //关闭弹窗\r\n        closedialog(){\r\n            this.newlicence={name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"}\r\n            this.img={}\r\n            this.loading = !this.loading\r\n            this.dialog = false\r\n        },\r\n        closedupdatedialog(){\r\n            this.updatelicence={name:\"\",certificate_time:\"\", certificate_id:\"\",image_url:\"\",\r\n                        valid_period:0,licensing_agency:\"\",category:\"\"}\r\n            this.img={}\r\n            this.updatedialog = false\r\n        },\r\n        change(){\r\n            this.img= {}\r\n            this.loading = !this.loading\r\n        },  \r\n        isEmptyObject(obj){\r\n            for(let key in obj){\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }\r\n}\r\n</script>"]}]}